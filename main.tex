\documentclass[type=doctor,oneside]{fduthesis}

\usepackage{booktabs}
\usepackage{diagbox}
\usepackage{enumitem}
\usepackage{rotating}
\usepackage{threeparttable}
\usepackage{tikz}
\usepackage{xcolor-material}

% fduthesis
\fdusetup{
  style = {
    font = libertinus,
    footnote-style = libertinus,
    fullwidth-stop = mapping,
    bib-backend = bibtex,
    bib-resource = {main.bib},
  },
  info = {
    title = {基于拓扑序的张量网络中若干问题的研究},
    title* = {Aspects on Tensor Networks for Topological Orders},
    author = {曾祥东},
    supervisor = {孔令欣\quad 教授},
    major = {理论物理},
    degree = academic,
    department = {物理学系},
    student-id = {18110190010},
    % date = {2023 年 1 月 1 日},
    keywords = {拓扑序, 张量网络, 奇异关联子, Virasoro 算符, 算符推移},
    keywords* = {Topological orders, tensor networks, strange correlators, Virasoro generators, operator pushing},
    clc = {O41},
  }
}

% enumitem
\setlist{itemsep=0pt}

% tikz
\usetikzlibrary{
  arrows.meta,
  calc,
  decorations.markings,
}
\tikzset{
  vector box/.style={thick, MaterialTeal, fill=MaterialTeal100},
  tensor box/.style={thick, MaterialBlue, fill=MaterialBlue100},
  tensor leg/.style={semithick, MaterialGrey},
  covered tensor leg/.style={semithick, dashed, MaterialGrey300},
  ->-/.style = {
    decoration = {
      markings,
      mark = at position #1 with {\arrow{Stealth}},
    },
    postaction = {decorate},
  },
}
\newcommand{\Vertex}[3]{
  \begin{tikzpicture}[baseline=0, thick]
    \draw (0,0) -- (90:1)  node [above] {$#1$}
          (0,0) -- (210:1) node [left]  {$#2$}
          (0,0) -- (330:1) node [right] {$#3$};
  \end{tikzpicture}
}
\newcommand{\Tetrahedron}[6]{
  \begin{tikzpicture}[baseline=1ex]
    \draw [covered tensor leg, MaterialGrey] (0,0) -- (3.2,0);
    \draw [tensor leg]
          (0,0) -- (2,2.5) -- (3.2,0) -- (2,-0.8) -- cycle
          (2,2.5) -- (2,-0.8);
    \draw (0.6, 1.7) node {$#1$}
          (3.2, 1.7) node {$#2$}
          (0.6,-0.9) node {$#3$}
          (3  ,-0.9) node {$#4$}
          (1.1, 0.5) node {$#5$}
          (2.4, 0.8) node {$#6$};
  \end{tikzpicture}
}
\newcommand{\Triangle}[6]{
  \begin{tikzpicture}[baseline=-0.5ex]
    \draw [tensor box]
          ( 90:1.5) -- (210:1.5) -- (330:1.5) -- cycle;
    \foreach \x in {90, 210, 330}
      \draw [tensor leg]
          (\x-40:1.7) .. controls (\x-20:0.8) and (\x+20:0.8) .. (\x+40:1.7)
          (\x-60:0.4) -- (\x-60:1.6);
    \draw ( 30:2) node {$#1$}
          (150:2) node {$#2$}
          (270:2) node {$#3$}
          ( 90:2) node {$#4$}
          (210:2) node {$#5$}
          (330:2) node {$#6$};
  \end{tikzpicture}
}
\newcommand{\VirutalHexagon}[1]{
  \begin{tikzpicture}[baseline=-0.2em]
    \draw [thick, dotted]
      (30:1.2) -- (90:1.2) -- (150:1.2) -- (210:1.2) -- (270:1.2) -- (330:1.2) -- cycle;
    #1;
  \end{tikzpicture}
}

% Hacks
\ExplSyntaxOn
\cs_set_protected:Npn \__fdu_load_cjk_font_fandol:
  {
    \__fdu_setCJKmainfont:nn  { HYShuSongErS } { BoldFont = HYZhongSongS }
    \__fdu_setCJKsansfont:n   { HYZhongHeiS  }
    \__fdu_set_cjk_font_kai:n { HYKaiTiS     }
  }
\cs_set:Npn \fdu_allow_url_break:
  {
    \cs_set:Npn \UrlBreaks
      {
        \do \. \do \@ \do \\ \do \/ \do \! \do \_ \do \| \do \; \do \>
        \do \] \do \) \do \, \do \? \do \& \do \' \do  + \do \= \do \#
      }
  }
\ExplSyntaxOff

\AtBeginDocument{
  \setlength{\bibsep}{4pt plus 2pt minus 1pt}
}

% Math commands
\newcommand{\dd}{\mathrm{d}}
\newcommand{\ee}{\mathrm{e}}
\newcommand{\ii}{\mathrm{i}}
\newcommand{\id}{\mathrm{id}}
\newcommand{\1}{\mathbb{1}}
\newcommand{\trans}{{\mathrm{T}}}
\newcommand{\bm}[1]{\symbf{#1}}
\newcommand{\ldual}[1]{{}^*\mspace{-2mu}#1}
\newcommand{\dv}[2]{\frac{\mathrm{d}#1}{\mathrm{d}#2}}
\newcommand{\pdv}[2]{\frac{\partial#1}{\partial#2}}
\NewDocumentCommand{\bra}{som}{%
  \IfBooleanTF{#1}{\langle#3|}{%
    \IfValueTF{#2}{#2\langle#3#2|}{\left\langle#3\right|}}}
\NewDocumentCommand{\ket}{som}{%
  \IfBooleanTF{#1}{|#3\rangle}{%
    \IfValueTF{#2}{#2|#3#2\rangle}{\left|#3\right\rangle}}}
\NewDocumentCommand{\ev}{som}{%
  \IfBooleanTF{#1}{\langle#3\rangle}{%
    \IfValueTF{#2}{#2\langle#3#2\rangle}{\left\langle#3\right\rangle}}}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator*{\argmin}{arg\,min}

\newcommand{\tikzinput}[1]{\input{includes/tikz/#1.tex}}

%TC:envir fusionrules [ignore] text
\newenvironment{fusionrules}[1]{%
  \begingroup
    \renewcommand{\arraystretch}{0.8}%
    \begin{tabular}{#1}
      \hline
}{%
      \hline
    \end{tabular}
  \endgroup
}

\begin{document}

\frontmatter

\tableofcontents
\listoffigures
\listoftables

\input{includes/abstracts}

\mainmatter

\input{includes/introduction}

\input{includes/1-topological-order}

\tikzset{x=1em, y=1em, node font=\footnotesize}

\input{includes/2-tensor-network}
\input{includes/3-strange-correlator}
\input{includes/4-virasoro}
\input{includes/5-operator-pushing}
\input{includes/6-conclusion}

\input{includes/appendix}

\backmatter

\printbibliography

\input{includes/academic-resume}
\input{includes/acknowledgements}

\end{document}
